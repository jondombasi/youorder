<!DOCTYPE html>
<html>
    
    <head>
        <title>Statistiques</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0,  minimun-scale=1.0, maximum-scale=1.0">
        
        <!-- style -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700"> 
        <link rel="stylesheet" href="font-awesome-4.6.3/css/font-awesome.min.css"> 
        <link rel="stylesheet" type="text/css" href="css/bases.css">
        <link rel="stylesheet" type="text/css" href="css/statistiques.css">
        <link rel="stylesheet" type="text/css" href="css/mobiscroll.custom-2.17.1.min.css">
        <link rel="stylesheet" type="text/css" href="css/easy-pie.css">
        <!-- /style -->
        
        <!-- script -->
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/mobiscroll.custom-2.17.1.min.js"></script>
        <script type="text/javascript" src="js/jquery.easypiechart.min.js"></script>
        <script src="js/jquery.canvasjs.min.js" type="text/javascript"></script>
        <!-- /script -->
        
    </head>
    
    <body>
    
        <!-- page -->
        <div id="page" class="page">
            
            <!-- header -->
            <header>
                <div class="title">
                    <a href="javascript:void(0)" onclick="window.history.go(-1);"><img class="back" src="images/back.png" alt="Back"></a>
                    <span>Statistiques</span>
                    <a href="commandes.html"><img src="images/commandes-off.png" alt="Commandes"></a>
                    <a href="planning.html"><img class="img-commandes" src="images/planning-off.png" alt="Planning"></a>
                </div>
                <div class="stop"></div>
            </header>
            <!-- /header -->
            
            <!-- date -->
            <h1 id="date">Semaine du 20 au 26 juin 2016<img src="images/arrow3.png" alt="arrow"></h1>
            <!-- /date -->
            
            <!-- easy pie -->
            <h2 class="firsth2">Heures</h2>
            <div class="chart" data-percent="43">
                <span>25</span><br>
                <span>sur 32</span>
            </div>
            <span class="chart-detail">heures effectuées (75%)</span>
            <!-- /easy pie -->
            
            <!-- line charts -->
            <div id="chartContainer" style="height: 180px; width: 100%;"></div>
            <!-- /line charts -->
            
            <!-- retard --> 
            <div class="retard">
                <h2>Retards / Absences</h2>
                <div class="retard-l">
                    <span>3</span>
                    <span>Retards / Absences<br> cette semaine</span>
                    <span>20-26 juin 2016</span>
                    <div class="triangle"></div>
                </div>
                <div class="retard-r">
                    <span>Soit</span>
                    <span>2</span>
                    <span>Heures de retards / absences au total</span>
                </div>
                <div class="stop"></div>
                <div class="retard-recap">
                    C'est &nbsp;<span>1h de plus</span>&nbsp; que la semaine précédente
                </div>
            </div>
            <!-- /retard --> 
            
            <!-- note -->
            <h2 class='note-h2'>Note</h2>
            <div class='note'>
                <h3>Moyenne globale</h3>
                <img src='images/notation-on.png' alt='star'>
                <img src='images/notation-on.png' alt='star'>
                <img src='images/notation-on.png' alt='star'>
                <img src='images/notation-on.png' alt='star'>
                <img src='images/notation-off.png' alt='star'>
                <span id="stat">Voir les moyennes des 7 derniers jours<i class="fa fa-chevron-down"></i></span>
                <div id="stat-graphique">
                    <div id="chartContainer2" style="height: 150px; width: 100%;"></div>
                </div>
            </div>
            <!-- /note -->
            
            <!-- commandes -->
            <h2 class='note-h2'>Commandes</h2>
            <div class='commande-stat recuperer'>
                <span>Semaine passée: 21</span>
                <span><i class='fa fa-arrow-up'></i> 12%</span>
                <div class='stop'></div>
                <div class='stat-nbr'>26</div>
                <div class='stat-nbr-detail'>
                    <span>Commandes</span>
                    <span>Récupérées</span>
                </div>
            </div>
            <div class='commande-stat signer'>
                <span>Semaine passée: 21</span>
                <span><i class='fa fa-arrow-up'></i> 12%</span>
                <div class='stop'></div>
                <div class='stat-nbr'>45</div>
                <div class='stat-nbr-detail'>
                    <span>Commandes</span>
                    <span>Signées</span>
                </div>
            </div>
            <div class='commande-stat echec'>
                <span>Semaine passée: 21</span>
                <span><i class='fa fa-arrow-down'></i> 12%</span>
                <div class='stop'></div>
                <div class='stat-nbr'>2</div>
                <div class='stat-nbr-detail'>
                    <span>Commandes</span>
                    <span>en échec</span>
                </div>
            </div>
            <div class='stop'></div>
            <!-- /commandes -->
            
        </div>
        <!-- /page -->
        
        <script>
            
            $(function(){
               
                $('#date').mobiscroll().calendar({
                    theme: 'mobiscroll',
                    lang: 'fr',
                    min: new Date(2015, 7, 14),
                    max: new Date(2026, 7, 14),
                    display: 'bottom',
                    color: 'red',
                    selectType: 'week',
                    firstSelectDay: 1,
                    buttons: [ 
                        { 
                            text: 'Ok',
                            cssClass: 'fwb dwb',
                            handler: 'cancel'
                        }, {
                            text: 'Annuler',
                            handler: 'cancel'
                        }
                    ],
                    marked: [{
                        d: new Date(2016, 7, 14),
                        color: '#c7c7cd'   
                    }, {
                        d: new Date(2016, 7, 23),
                        color: '#c7c7cd'   
                    }, {
                        d: new Date(2016, 7, 4),
                        color: '#c7c7cd'   
                    }]
                });
        
            });
            
            $(function() {
                $('.chart').easyPieChart({
                    barColor: '#67ae73',
                    trackColor: '#5a5a70',
                    scaleColor: false,
                    lineWidth: 5
                });
            });
            
            window.onload = function () {
                var chart = new CanvasJS.Chart("chartContainer",
                {
                    animationEnabled: true,
                    backgroundColor: "#252736",
                    axisX: {
                        valueFormatString: "DD",
                        interval:1,
                        lineColor: "#5a5a70",
                        tickColor: '#252736',
                        intervalType: "day",
                        labelFontSize: 10,
                        labelFontColor: "#FFF",
                        labelAngle: 0
                    },
                    axisY:{
                        includeZero: false,
                        lineColor: "#5a5a70",
                        tickColor: '#252736',
                        gridColor: "#5a5a70",
                        labelFontSize: 10,
                        labelFontColor: "#FFF",
                        labelFontStyle: 'normal'
                    },
                    data: [
                    {        
                        type: "line",
                        color: '#67ae73',
                        lineThickness: 3,     
                        dataPoints: [
                            { x: new Date(2016, 01, 01), y: 6, markerColor: '#67ae73' },
                            { x: new Date(2016, 01, 02), y: 8, markerColor: '#67ae73' },
                            { x: new Date(2016, 01, 03), y: 5, markerColor: '#67ae73' },
                            { x: new Date(2016, 01, 04), y: 7, markerColor: '#67ae73' },
                            { x: new Date(2016, 01, 05), y: 6, markerColor: '#67ae73' },
                            { x: new Date(2016, 01, 06), y: 8, markerColor: '#67ae73' },
                            { x: new Date(2016, 01, 07), y: 8, markerColor: '#67ae73' }
                        ]
                    }
                  ]
                });
                chart.render();
            };
                
            
            var stat = document.getElementById('stat');
            var stat_graphique = document.getElementById('stat-graphique');
            
            stat.addEventListener('click', affiche_graphique);
            
            function affiche_graphique(){
                if(stat_graphique.style.display !== "block"){
                    stat_graphique.style.display = "block";
                    stat.innerHTML = "Refermer";
                } else {
                    stat_graphique.style.display = "none";
                    stat.innerHTML = "Voir les moyennes des 7 derniers jours <i class='fa fa-chevron-down'></i>";
                }
                var chart2 = new CanvasJS.Chart("chartContainer2",
                    {
                        animationEnabled: true,
                        backgroundColor: "#3b3f53",
                        legend: {
                            verticalAlign: "bottom",
                            horizontalAlign: "center"
                        },
                        axisY: {
                            labelFontSize: 10,
                            maximum: 5,
                            labelFontColor: "#FFF",
                            labelAngle: 0,
                            labelFontStyle: 'normal',
                            labelWeight: 'normal',
                            tickColor: '#3b3f53',
                            lineColor: "#5a5a70",
                            interval: 1
                        },
                        axisX: {
                            labelFontSize: 10,
                            labelFontColor: "#FFF",
                            labelAngle: 0,
                            labelFontStyle: 'normal',
                            labelWeight: 'normal',
                            tickColor: '#3b3f53',
                            lineColor: "#5a5a70"
                        },
                        theme: "theme2",
                        data: [{        
                            color: '#67ae73',
                            type: "column",  
                            legendMarkerColor: "grey",
                            dataPoints: [      
                                {y: 4, label: "20", labelColor: "#FFF"},
                                {y: 3, label: "21" },
                                {y: 4, label: "22"},
                                {y: 4, label: "23"},
                                {y: 5, label: "24"},
                                {y: 3, label: "25"},
                                {y: 2, label: "26"}    
                            ]
                        }]
                    });
                chart2.render();
            }
            
            
    
        </script>
        
    </body>
    
</html>